<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <ul id="TOC">

    </ul>

    <h1>title</h1>
    <h2>1.1</h2>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h3>1.1.1</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h3>1.1.2</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h3>1.1.3</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h2>1.2</h2>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h3>1.2.1</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h3>1.2.2</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h3>1.2.3</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h2>1.3</h2>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h3>1.3.1</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h3>1.3.2</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

    <h3>1.3.3</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis velit mollitia a culpa fugit odit doloribus
        minima maxime, fuga minus modi porro explicabo sint in est tenetur eum quam eaque maiores. Voluptatem autem eum
        vitae porro consequatur, optio tempora blanditiis corrupti minus, aspernatur necessitatibus maxime molestiae
        esse repellendus qui expedita soluta ipsa eius. Consequuntur nihil ullam assumenda consequatur corrupti?</p>

</body>
<script>
    const TOC = document.getElementById('TOC');
    const headings = document.querySelectorAll('h1,h2,h3');
    headings.forEach((heading, index) => {
        const li = document.createElement("li");
        const a = document.createElement("a");

        const id = `heading-${index}`;
        a.href = `#heading-${index}`;
        a.innerHTML = heading.innerHTML;

        heading.id = id;
        heading.classList.add('heading');

        li.appendChild(a);
        li.classList.add(`heading-${heading.nodeName.toLowerCase()}`);
        TOC.appendChild(li);
    });

</script>

</html>